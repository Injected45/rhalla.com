import{h as L,E as S,i as m,j as b,H as U,k as B,c,a as s,l as M,d as o,m as a,t as l,n as N,F as $,r as h,f as R,B as g,I as V,G as k,C as T,b as I,w as E,e as Y,o as u,_ as j}from"./BOKWjyXS.js";import{u as q}from"./DFlIIVL0.js";const z={class:"currencies-page"},A={class:"container"},G={class:"page-header"},H={key:0,class:"page-subtitle"},J={class:"currencies-tabs"},K={key:0,class:"loading-state"},O={key:1,class:"error-state"},P={key:2,class:"currencies-table-wrapper"},Q={class:"currencies-table"},W={class:"currency-cell"},X={class:"currency-flag"},Z={class:"currency-name"},ss={class:"buy-col"},es={class:"rate-value buy"},ts={class:"sell-col"},as={class:"rate-value sell"},ls={class:"calculator-section"},ns={class:"calculator-grid"},os={class:"calc-input-group"},is=["value"],rs={class:"calc-input-group"},cs=["disabled"],us={value:"sell"},ds={class:"calc-input-group"},ps=["placeholder","disabled"],vs={class:"calc-result"},fs={class:"result-value"},bs={class:"back-link"},_s=L({__name:"currencies",setup(ms){S({title:"أسعار العملات | الرحالة للصرافة",description:"أسعار صرف العملات المحدثة يومياً - شراء وبيع العملات بأفضل الأسعار في ليبيا"});const i=q(),v=m("internal"),y=b(()=>v.value==="internal"?i.internalCurrencies:i.externalCurrencies),C=b(()=>v.value==="internal"?i.internalLastUpdated:i.externalLastUpdated),n=m(0),r=m(""),d=m("buy"),D=["2","4"],x=b(()=>r.value?y.value.find(p=>p.id===Number(r.value)):null),_=b(()=>x.value?.currency_name||"العملة");U([r,d],()=>{n.value=0});const F=b(()=>{if(!r.value)return"اختر العملة أولاً";if(!n.value||n.value<=0)return"أدخل المبلغ";const p=x.value;if(!p)return"خطأ في العملة";const e=parseFloat(p.formatted_price_buy_price),f=parseFloat(p.formatted_price_sale_price);if(isNaN(e)||isNaN(f)||e===0||f===0)return"السعر غير متوفر";let t;const w=D.includes(p.currency_id_to);return d.value==="buy"?(w?t=n.value/e:t=n.value*e,`${t.toFixed(2)} ${p.currency_name}`):(w?t=n.value*f:t=n.value/f,`${t.toFixed(2)} دينار ليبي`)});return B(()=>{i.fetchCurrencies()}),(p,e)=>{const f=Y;return u(),c("div",z,[s("div",A,[s("div",G,[e[6]||(e[6]=s("div",{class:"page-badge"},[s("i",{class:"fas fa-coins"}),s("span",null,"أسعار العملات")],-1)),e[7]||(e[7]=s("h1",{class:"page-title"},[o("أسعار "),s("span",{class:"gradient-text"},"الصرف اليوم")],-1)),a(C)?(u(),c("p",H,"آخر تحديث: "+l(a(C)),1)):M("",!0)]),s("div",J,[s("button",{class:N(["tab-btn",{active:a(v)==="internal"}]),onClick:e[0]||(e[0]=t=>v.value="internal")},[...e[8]||(e[8]=[s("i",{class:"fas fa-exchange-alt"},null,-1),o(" البيع والشراء ",-1)])],2),s("button",{class:N(["tab-btn",{active:a(v)==="external"}]),onClick:e[1]||(e[1]=t=>v.value="external")},[...e[9]||(e[9]=[s("i",{class:"fas fa-globe"},null,-1),o(" الحوالات الخارجية ",-1)])],2)]),a(i).loading?(u(),c("div",K,[...e[10]||(e[10]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"جاري تحميل الأسعار...",-1)])])):a(i).error?(u(),c("div",O,[e[12]||(e[12]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("p",null,l(a(i).error),1),s("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=t=>a(i).refreshCurrencies())},[...e[11]||(e[11]=[s("i",{class:"fas fa-redo"},null,-1),o(" إعادة المحاولة ",-1)])])])):(u(),c("div",P,[s("table",Q,[e[13]||(e[13]=s("thead",null,[s("tr",null,[s("th",null,"العملة"),s("th",{class:"buy-col"},"سعر الشراء"),s("th",{class:"sell-col"},"سعر البيع")])],-1)),s("tbody",null,[(u(!0),c($,null,h(a(y),t=>(u(),c("tr",{key:t.id},[s("td",W,[s("span",X,l(t.flag),1),s("span",Z,l(t.currency_name),1)]),s("td",ss,[s("span",es,l(t.formatted_price_buy_price)+" LYD",1)]),s("td",ts,[s("span",as,l(t.formatted_price_sale_price)+" LYD",1)])]))),128))])])])),s("div",ls,[s("h3",null,[e[14]||(e[14]=s("i",{class:"fas fa-calculator"},null,-1)),o(" حاسبة التحويل - "+l(a(v)==="internal"?"البيع والشراء":"الحوالات الخارجية"),1)]),s("div",ns,[s("div",os,[e[16]||(e[16]=s("label",null,[s("span",{class:"step-num"},"1"),o(" اختر العملة")],-1)),g(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>k(r)?r.value=t:null),class:"calc-select"},[e[15]||(e[15]=s("option",{value:""},"-- اختر العملة --",-1)),(u(!0),c($,null,h(a(y),t=>(u(),c("option",{key:t.id,value:t.id},l(t.flag)+" "+l(t.currency_name),9,is))),128))],512),[[V,a(r)]])]),s("div",rs,[e[18]||(e[18]=s("label",null,[s("span",{class:"step-num"},"2"),o(" نوع العملية")],-1)),g(s("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>k(d)?d.value=t:null),class:"calc-select",disabled:!a(r)},[e[17]||(e[17]=s("option",{value:"buy"},"شراء (لدي دينار ليبي)",-1)),s("option",us,"بيع (لدي "+l(a(_))+")",1)],8,cs),[[V,a(d)]])]),s("div",ds,[s("label",null,[e[19]||(e[19]=s("span",{class:"step-num"},"3",-1)),o(" "+l(a(d)==="buy"?"المبلغ بالدينار الليبي":`المبلغ بـ${a(_)}`),1)]),g(s("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>k(n)?n.value=t:null),type:"number",min:"0",step:"0.01",class:"calc-input",placeholder:a(d)==="buy"?"أدخل المبلغ بالدينار":`أدخل المبلغ بـ${a(_)}`,disabled:!a(r)},null,8,ps),[[T,a(n),void 0,{number:!0}]])]),s("div",vs,[s("label",null,[e[20]||(e[20]=s("i",{class:"fas fa-equals"},null,-1)),o(" النتيجة "+l(a(d)==="buy"?`بـ${a(_)}`:"بالدينار الليبي"),1)]),s("div",fs,l(a(F)),1)])]),e[21]||(e[21]=R('<div class="contact-note" data-v-719516c0><i class="fas fa-info-circle" data-v-719516c0></i><div class="contact-note-content" data-v-719516c0><p data-v-719516c0>للمزيد من الاستفسار تواصل معنا:</p><div class="contact-links" data-v-719516c0><a href="https://wa.me/218925522234" target="_blank" class="contact-link whatsapp" data-v-719516c0><i class="fab fa-whatsapp" data-v-719516c0></i> واتساب </a><a href="https://www.facebook.com/profile.php?id=61583465621664" target="_blank" class="contact-link facebook" data-v-719516c0><i class="fab fa-facebook-f" data-v-719516c0></i> فيسبوك </a><a href="tel:+218925522234" class="contact-link phone" data-v-719516c0><i class="fas fa-phone" data-v-719516c0></i> اتصال </a></div></div></div>',1))]),e[23]||(e[23]=s("div",{class:"currencies-note"},[s("i",{class:"fas fa-info-circle"}),s("p",null,"الأسعار تحديثية وقابلة للتغيير - تواصل معنا للحصول على أفضل سعر للتحويلات الكبيرة")],-1)),s("div",bs,[I(f,{to:"/",class:"btn btn-outline"},{default:E(()=>[...e[22]||(e[22]=[s("i",{class:"fas fa-arrow-right"},null,-1),o(" العودة للرئيسية ",-1)])]),_:1})])])])}}}),ks=j(_s,[["__scopeId","data-v-719516c0"]]);export{ks as default};

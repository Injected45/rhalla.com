import{_ as b}from"./PuN1TB_K.js";import{u as C}from"./CJHvohUy.js";import{f as k,A as x,s as _,j as f,g as L,E as I,G as S,c as n,a as s,n as U,i as o,F as p,r as h,t as l,o as c}from"./55hYYIec.js";import{_ as w}from"./DlAUqK2U.js";const B={class:"live-pricing"},D=["title"],E={key:0,class:"loading-state"},F={key:1,class:"tables-container"},M={class:"table-section"},P={class:"currency-table"},T={class:"currency-col"},j={class:"currency-flag"},z={class:"currency-name"},A={class:"buy-col"},G={class:"rate buy"},N={class:"sell-col"},R={class:"rate sell"},V={class:"table-section"},q={class:"currency-table"},H={class:"currency-col"},J={class:"currency-flag"},K={class:"currency-name"},O={class:"buy-col"},Q={class:"rate buy"},W={class:"sell-col"},X={class:"rate sell"},Y={class:"live-footer"},Z={class:"update-info"},$=k({__name:"live-pricing",setup(ss){x({title:"أسعار العملات المباشرة | شركة الرحالة للصرافة"});const a=C(),d=_(!1);let i=null;const r=_(!0);function m(){r.value=!r.value,document.documentElement.classList.toggle("light-theme",!r.value)}const g=f(()=>a.internalCurrencies.length>0||a.externalCurrencies.length>0),v=f(()=>{const u=a.internalLastUpdated,e=a.externalLastUpdated;return u||e||"جاري التحميل..."});async function y(){d.value=!0,await a.refreshCurrencies(),setTimeout(()=>{d.value=!1},1e3)}return L(async()=>{await a.fetchCurrencies(),i=I(()=>{y()},6e4)}),S(()=>{i&&clearInterval(i)}),(u,e)=>(c(),n("div",B,[s("button",{class:"theme-switcher",onClick:m,title:o(r)?"الوضع الفاتح":"الوضع الداكن"},[s("i",{class:U(o(r)?"fas fa-sun":"fas fa-moon")},null,2)],8,D),e[6]||(e[6]=s("div",{class:"live-header"},[s("div",{class:"logo-container"},[s("img",{src:b,alt:"الرحالة للصرافة",class:"logo"}),s("h1",{class:"company-name"},"شركة الرحالة للصرافة والخدمات المالية")])],-1)),o(a).loading&&!o(g)?(c(),n("div",E,[...e[0]||(e[0]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"جاري تحميل الأسعار...",-1)])])):(c(),n("div",F,[s("div",M,[e[2]||(e[2]=s("div",{class:"table-header"},[s("i",{class:"fas fa-exchange-alt"}),s("h2",null,"البيع والشراء")],-1)),s("table",P,[e[1]||(e[1]=s("thead",null,[s("tr",null,[s("th",{class:"currency-col"},"العملة"),s("th",{class:"buy-col"},"سعر الشراء"),s("th",{class:"sell-col"},"سعر البيع")])],-1)),s("tbody",null,[(c(!0),n(p,null,h(o(a).internalCurrencies,t=>(c(),n("tr",{key:"int-"+t.id},[s("td",T,[s("span",j,l(t.flag),1),s("span",z,l(t.currency_name),1)]),s("td",A,[s("span",G,l(t.formatted_price_buy_price),1)]),s("td",N,[s("span",R,l(t.formatted_price_sale_price),1)])]))),128))])])]),s("div",V,[e[4]||(e[4]=s("div",{class:"table-header"},[s("i",{class:"fas fa-globe"}),s("h2",null,"الحوالات الخارجية")],-1)),s("table",q,[e[3]||(e[3]=s("thead",null,[s("tr",null,[s("th",{class:"currency-col"},"العملة"),s("th",{class:"buy-col"},"سعر الشراء"),s("th",{class:"sell-col"},"سعر البيع")])],-1)),s("tbody",null,[(c(!0),n(p,null,h(o(a).externalCurrencies,t=>(c(),n("tr",{key:"ext-"+t.id},[s("td",H,[s("span",J,l(t.flag),1),s("span",K,l(t.currency_name),1)]),s("td",O,[s("span",Q,l(t.formatted_price_buy_price),1)]),s("td",W,[s("span",X,l(t.formatted_price_sale_price),1)])]))),128))])])])])),s("div",Y,[s("div",Z,[e[5]||(e[5]=s("i",{class:"fas fa-clock"},null,-1)),s("span",null,"آخر تحديث: "+l(o(v)),1)])])]))}}),ns=w($,[["__scopeId","data-v-238489ee"]]);export{ns as default};

import{_ as g}from"./DlKLoofn.js";import{g as k,y,x,l as n,c as l,a as s,e as X,q as f,j as e,d as h,s as C,v as N,z as V,t as i,n as v,b as w,w as B,F as S,r as T,o,_ as $}from"./BRXqJ4ao.js";const q={class:"track-page"},L={class:"container"},z={key:0,class:"track-card"},D={class:"form-group"},F={class:"input-wrapper"},M=["disabled"],O={key:1,class:"results-container"},R={class:"results-header"},j={key:0,class:"no-results"},E={key:1,class:"bookings-grid"},I={class:"card-main"},P={class:"card-info"},U={class:"info-value"},A={class:"card-info"},G={class:"info-value"},H={class:"card-info"},J={class:"info-value tracking-code"},K={class:"card-info"},Q={class:"info-value"},W={key:0,class:"status-alert"},Y=k({__name:"track",setup(Z){y({title:"تتبع حجز البطاقة | شركة الرحالة",description:"تتبع حالة حجز بطاقة الأغراض الشخصية الخاصة بك"});const _=x().public.apiBase,u=n(1),d=n(""),r=n(!1);n(""),n(["","","",""]),n([]),n("");const p=n([]),b=async()=>{if(d.value){r.value=!0;try{const c=await $fetch(`${_}/booking-cards/track`,{method:"POST",body:{phone:d.value}});c.success&&(p.value=c.bookings,u.value=3)}catch(c){alert(c.data?.message||"لم يتم العثور على حجوزات لهذا الرقم.")}finally{r.value=!1}}};return(c,a)=>{const m=g;return o(),l("div",q,[s("div",L,[a[14]||(a[14]=X('<div class="page-header" data-v-6ab90021><div class="header-badge" data-v-6ab90021><i class="fas fa-search" data-v-6ab90021></i><span data-v-6ab90021>تتبع الطلب</span></div><h1 class="page-title" data-v-6ab90021>تتبع حالة <span class="gradient-text" data-v-6ab90021>المستندات</span></h1><p class="page-subtitle" data-v-6ab90021>أدخل رقم هاتفك المسجل لعرض حالة طلبك ومستنداتك</p></div>',1)),e(u)===1?(o(),l("div",z,[s("div",D,[a[3]||(a[3]=s("label",{class:"label"},[h("رقم الهاتف المسجل "),s("span",{class:"required"},"*")],-1)),s("div",F,[a[2]||(a[2]=s("i",{class:"fas fa-phone-flip"},null,-1)),C(s("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>V(d)?d.value=t:null),type:"tel",class:"input",placeholder:"09XXXXXXXXXX : مثال",required:""},null,512),[[N,e(d)]])])]),s("button",{class:"submit-btn",disabled:e(r),onClick:b},[s("span",null,i(e(r)?"جاري التحميل...":"موافق"),1),s("i",{class:v(e(r)?"fas fa-spinner fa-spin":"fas fa-check-circle")},null,2)],8,M)])):e(u)===3?(o(),l("div",O,[s("div",R,[a[5]||(a[5]=s("h3",null,"الحجوزات المرتبطة برقم الهاتف",-1)),s("button",{class:"track-again-btn",onClick:a[1]||(a[1]=t=>u.value=1)},[...a[4]||(a[4]=[s("i",{class:"fas fa-rotate-left"},null,-1),s("span",null,"بحث آخر",-1)])])]),e(p).length===0?(o(),l("div",j,[a[7]||(a[7]=s("i",{class:"fas fa-folder-open"},null,-1)),a[8]||(a[8]=s("p",null,"لم يتم العثور على أي حجوزات مؤكدة لهذا الرقم",-1)),w(m,{to:"/booking-cards",class:"submit-btn"},{default:B(()=>[...a[6]||(a[6]=[s("span",null,"احجز الآن",-1)])]),_:1})])):(o(),l("div",E,[(o(!0),l(S,null,T(e(p),t=>(o(),l("div",{key:t.tracking_code,class:"booking-card"},[s("div",{class:v(["card-status",`status-${t.status_val}`])},i(t.status),3),s("div",I,[s("div",P,[a[9]||(a[9]=s("span",{class:"info-label"},"اسم صاحب الطلب",-1)),s("span",U,i(t.name),1)]),s("div",A,[a[10]||(a[10]=s("span",{class:"info-label"},"نوع الدفع",-1)),s("span",G,i(t.payment_type),1)]),s("div",H,[a[11]||(a[11]=s("span",{class:"info-label"},"رقم التتبع",-1)),s("span",J,i(t.tracking_code),1)]),s("div",K,[a[12]||(a[12]=s("span",{class:"info-label"},"تاريخ الطلب",-1)),s("span",Q,i(t.date),1)])])]))),128)),e(p).some(t=>t.status_val===0)?(o(),l("div",W,[...a[13]||(a[13]=[s("i",{class:"fas fa-exclamation-triangle"},null,-1),s("span",null,"ستصلك رساله قريبة بنتيجة المعامله",-1)])])):f("",!0)]))])):f("",!0)])])}}}),es=$(Y,[["__scopeId","data-v-6ab90021"]]);export{es as default};
